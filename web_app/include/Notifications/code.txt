/**
     * Generate a message for a multiple notifications
     *
     * @param array $notifications
     * @param int $realCount
     * @return string
     */
    public function messageForNotifications($notifications,$realCount = 0)
    {
        if ($realCount === 0) {
            $realCount = count($notifications);
        }

        // when there are two
        if ($realCount === 2) {
            $names = $this->messageForTwoNotifications($notifications);
        } // less than five
        elseif ($realCount < 5) {
            $names = $this->messageForManyNotifications($notifications);
        } // to many
        else {
            $names = $this->messageForManyManyNotifications($notifications, $realCount);
        }

        return $names . ' liked your comment: ' . substr($this->reference->text, 0, 10) . '...';
    }

    /**
     * Generate a message for two notifications
     *
     * @param array $notifications
     * @return string
     */
    protected function messageForTwoNotifications(array $notifications)
    {
        list($first, $second) = $notifications;
        return $first->getName() . ' and ' . $second->getName(); // John and Jane
    }

    /**
     * Generate a message for more than two and less than four notifications
     *
     * @param array $notifications
     * @return string
     */
    protected function messageForManyNotifications(array $notifications)
    {
        $last = array_pop($notifications);

        foreach ($notifications as $notification) {
            $names .= $notification->getName() . ', ';
        }

        return substr($names, 0, -2) . ' and ' . $last->getName(); // Jane, Johnny, James and Jenny
    }

    /**
     * Generate a message for more than 4 notifications
     *
     * @param array $notifications
     * @return string
     */
    protected function messageForManyManyNotifications($notifications, $realCount)
    {
        list($first, $second) = array_slice($notifications, 0, 2);

        return $first->getName() . ', ' . $second->getName() . ' and ' . $realCount . ' others'; // Jonny, James and 12 other
    }